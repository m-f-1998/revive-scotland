<div class="w-100 input-group">
  <input
    type="text"
    [formControl]="inputControl"
    [class.is-invalid]="formControl.invalid && (formControl.touched || formControl.dirty)"
    [id]="id"
    [required]="props.required || false"
    [placeholder]="props.placeholder || 'Search for an address...'"
    class="w-100 form-control"
    (input)="searchAddress($event.target.value)">

  @if (searchResults().length > 0) {
    <div class="mt-3 w-100">
      <formly-form
        [form]="selectAddressForm"
        [model]="selectAddressModel"
        [fields]="selectAddressFields" />
    </div>
  }

  @if (loading()) {
    <div class="mt-3">
      <fa-icon [icon]="iconSvc.getIcon('fas', 'spinner')" animation="spin" />
      Loading...
    </div>
  }

  @if (formControl.invalid && (formControl.dirty || formControl.touched)) {
    <formly-validation-message [field]="field" class="invalid-feedback ng-star-inserted" />
  }
</div>